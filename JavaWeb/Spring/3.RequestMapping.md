# Request Mapping
URL 및 Request header 의 정보를 바탕으로 Request <-> Controller 의 Mapping 과정을 기술한다.

기본적으로 Request의 URI를 기반으로 mapping 을 진행하며, 공통 URI 의 경우 Class 에 `@RequestMapping("/root-uri")` 와 같이 작성할 수 있다.

## Http method mapping
- `@RequestMapping` annotation 의 method 인자에 `RequestMethod.GET`, `RequestMethod.POST` 와 같이 작성하면 같은 URL도 서로 다른 Controller에 Mapping할 수 있다.

```java
@RequestMapping(value = "/mapping-test", method = RequestMethod.GET)
public String test() {
    ...
    return "ok";
}
```

- `@GetMapping`, `@PostMapping` 등을 사용하면 method 인자 없이 URL 값만으로 mapping 할 수 있다.

```java
@GetMapping(value = "/mapping-test")
public String test() {
    ...
    return "ok";
}
```

</br>

## Path Variable (경로 변수) mapping
- URL 에 변수가 들어가 있는 형태로 mapping을 진행할 수 있다.
- Path Variable 의 변수를 Controller 의 인자로 받기 위해서는 `@PathVariable` annotation을 사용한다.
- Path Variable 의 이름과 인자의 이름이 같을 경우 `@PathVariable` 의 인자를 생략할 수 있다.

```java
@RequestMapping(value = "/mapping-test/{username}")
public String test(
    @PathVariable("username") String username
    // @PathVariable String username
) {
    log.info(username);
    return "ok";
}
```

</br>

## Content-type mapping
- 여러 Content type 을 조건으로 결기 위해서는 `{"application/json", "text/plain;charset=UTF-8"}` 과 같이 배열 형태로 작성한다.

### Request content type
- Http request 의 content-type 기반으로 mapping을 진행할 수 있다.
- 맞지 않을 경우에 HTTP 415 (Unsupported Media Type)을 반환한다.
```java
@RequestMapping(value = "/mappint-test", consumes = "application/json")
public String test() {
    return "ok";
}
```

### Request Accept type
- Http request 의 ACCEPT 기반으로 mapping을 진행할 수 있다.
- 맞지 않을 경우에 HTTP 406 (Not Acceptable)을 반환한다.
```java
@RequestMapping(Value = "/mapping-test", produces = "application/json")
public String test() {
    return "ok";
}
```

